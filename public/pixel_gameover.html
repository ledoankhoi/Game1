<!DOCTYPE html>
<html class="dark" lang="en">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Session Terminated</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"/>
    
    <script>
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: { colors: { "primary": "#258cf4", "background-dark": "#101922" }, fontFamily: { "display": ["Inter", "sans-serif"] } },
            },
        }
    </script>
</head>
<body class="bg-background-dark text-slate-300 font-display h-screen flex flex-col items-center justify-center relative overflow-hidden">
    
    <div class="absolute inset-0 opacity-5" style="background-image: url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' viewBox=\'0 0 60 60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cpath d=\'M54.627 0l.83.828-1.415 1.415-.828-.828-.828.828-1.415-1.415.828-.828-.828-.828 1.415-1.415.828.828.828-.828 1.415 1.415-.828.828zM22.485 0l.83.828-1.415 1.415-.828-.828-.828.828-1.415-1.415.828-.828-.828-.828 1.415-1.415.828.828.828-.828 1.415 1.415-.828.828z\' fill=\'%23ffffff\' fill-opacity=\'1\' fill-rule=\'evenodd\'/%3E%3C/svg%3E');"></div>

    <div class="relative z-10 w-full max-w-md p-6">
        <div class="bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl p-8 text-center shadow-2xl relative overflow-hidden">
            <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary to-transparent opacity-50"></div>

            <span class="material-icons text-5xl text-white/20 mb-4">gpp_bad</span>
            
            <h1 class="text-2xl font-bold text-white tracking-widest uppercase mb-2">Session Terminated</h1>
            <p class="text-xs text-slate-500 font-mono mb-8">Pixel Reconstruction Halted</p>

            <div class="grid grid-cols-2 gap-4 mb-8">
                <div class="bg-white/5 rounded-lg p-4">
                    <span class="text-[10px] uppercase text-slate-500 tracking-wider">Level Reached</span>
                    <p class="text-2xl font-bold text-white mt-1" id="final-level">0</p>
                </div>
                <div class="bg-white/5 rounded-lg p-4">
                    <span class="text-[10px] uppercase text-slate-500 tracking-wider">Total Score</span>
                    <p class="text-2xl font-bold text-primary mt-1" id="final-score">0</p>
                </div>
            </div>

            <div id="coin-reward" class="mb-8 hidden">
                <div class="inline-flex items-center gap-2 px-4 py-2 bg-yellow-500/10 border border-yellow-500/20 rounded-full">
                    <span class="material-icons text-yellow-500 text-xs">monetization_on</span>
                    <span class="text-yellow-500 text-xs font-bold tracking-wide" id="earned-coins">0 COINS</span>
                </div>
            </div>

            <div class="flex gap-3">
                <button onclick="window.location.href='pixel.html'" class="flex-1 py-3 bg-white/10 hover:bg-white/20 rounded-lg text-xs font-bold uppercase tracking-wider text-white transition">Retry</button>
                <button onclick="window.location.href='index.html'" class="flex-1 py-3 border border-white/10 hover:border-white/30 rounded-lg text-xs font-bold uppercase tracking-wider text-slate-400 hover:text-white transition">Exit</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const score = localStorage.getItem('pixel_last_score') || 0;
            const level = localStorage.getItem('pixel_last_level') || 1;
            const earnedCoins = sessionStorage.getItem('last_coins_earned') || 0;

            document.getElementById('final-score').innerText = score;
            document.getElementById('final-level').innerText = level;

            if (parseInt(earnedCoins) > 0) {
                const coinDiv = document.getElementById('coin-reward');
                coinDiv.classList.remove('hidden');
                document.getElementById('earned-coins').innerText = `+${earnedCoins} COINS`;
            }
        });
    </script>
</body>
</html>